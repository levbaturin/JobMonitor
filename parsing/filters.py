from logs.logger import filter_logger


BAD_KEYWORDS = {
    # üî¥ –î–ï–ù–¨–ì–ò –í–ü–ï–†–ï–î (100% —Å–∫–∞–º)
    '–≤–∑–Ω–æ—Å', '–∑–∞–¥–∞—Ç–æ–∫', '–æ–ø–ª–∞—Ç–∞ –∑–∞ –æ–±—É—á–µ–Ω–∏–µ', '–ø–ª–∞—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ',
    '—Å—Ç—Ä–∞—Ö–æ–≤–æ–π –≤–∑–Ω–æ—Å', '–≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã–π –ø–ª–∞—Ç–µ–∂', '–æ–ø–ª–∞—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø',
    '–∫—É–ø–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª', '–≤—ã–∫—É–ø–∏—Ç—å —Ç–æ–≤–∞—Ä', '–∑–∞–ª–æ–≥',

    # üî¥ –ö–†–ò–ü–¢–ê –ò –ú–£–¢–ù–´–ï –°–•–ï–ú–´
    '–∞—Ä–±–∏—Ç—Ä–∞–∂', 'p2p', '–∫—Ä–∏–ø—Ç–æ', '–±–∏–Ω–∞–Ω—Å', '–æ–±–Ω–∞–ª', '–¥—Ä–æ–ø', '—Å–∫–∞–º',
    '–∑–∞–ª–∏–≤', '—Å—Ö–µ–º—ã –∑–∞—Ä–∞–±–æ—Ç–∫–∞', '—Ç–µ–º–∫–∏', '–ª–µ–≥–∫–∏–µ –¥–µ–Ω—å–≥–∏',

    # üî¥ –°–ï–¢–ï–í–û–ô / –ü–ò–†–ê–ú–ò–î–´
    '—Å–µ—Ç–µ–≤–æ–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥', '–º–ª–º', 'mlm', 'oriflame', 'avon', 'greenway',
    '–ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥', '–Ω–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω–∞–¥–æ', '–≤–ª–æ–∂–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è',

    # üî¥ –ö–ê–ó–ò–ù–û / –°–¢–ê–í–ö–ò
    '–∫–∞–∑–∏–Ω–æ', '—Å—Ç–∞–≤–∫–∏', '–±–µ—Ç—Ç–∏–Ω–≥', 'bet', 'slots', '–≤—É–ª–∫–∞–Ω',
    '–æ–±—ã–≥—Ä–∞—Ç—å', '—Å—Ö–µ–º–∞ –≤—ã–∏–≥—Ä—ã—à–∞',

    # üî¥ "–†–ê–ë–û–¢–ê" –ë–ï–ó –°–£–¢–ò
    '–ø—Ä–æ—Å—Ç–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è', '–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫', '—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã',
    '–ø–ª–∞—á—É –∑–∞ –ª–∞–π–∫–∏', '–ø–ª–∞—á—É –∑–∞ –æ—Ç–∑—ã–≤—ã', '—Å–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',

    # üî¥ –ü–õ–û–•–ò–ï –°–õ–û–í–ê
    '–∏–Ω—Ç–∏–º', '—ç—Å–∫–æ—Ä—Ç', '–º–∞—Å—Å–∞–∂ —Å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º', '–≤–µ–±–∫–∞–º',
}


def job_filter(text: str, url:str) -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—Å—Ç –∏ URL –Ω–∞ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞."""

    if not text:
        return False

    text_lower = text.lower()

    for keyword in BAD_KEYWORDS:
        if keyword in text_lower:
            filter_logger.warning(f'–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É: "{keyword}", {url}')
            return False

    return True