# VacancyMonitor — Telegram bot for monitoring vacancies from VK groups

Небольшой Telegram-бот для мониторинга объявлений (вакансий) из VK/других источников и рассылки их подписчикам.

Бот универсальный - при небольших корректировках можно использовать для мониторинга новых постов из любых групп ВК

**Ключевые компоненты**
- `main.py` — точка входа, настройка бота и планировщика задач.
- `config/` — загрузка настроек (бота, базы данных, логов).
- `data/database.py` — простая SQLite-обёртка для пользователей и групп.
- `parsing/` — парсер VK и фильтрация вакансий.
- `tg_bot/` — обработчики команд, состояния и лексикон.
- `utils/check_and_send.py` — задача, собирающая новые вакансии и отправляющая подписчикам.
- `logs/` — настройка логирования и файлы логов.

**Требования**
- Python 3.10+ (проект использует современные типы и aiogram)
- Зависимости перечислены в `requirements.txt`.

**Установка и запуск (Windows)**
1. Клонировать репозиторий и перейти в папку проекта.
2. Создать виртуальное окружение и активировать его:

```ps1
python -m venv venv
venv\Scripts\activate
```

3. Установить зависимости:

```ps1
python -m pip install -r requirements.txt
```

4. Создать файл `.env` в корне и добавить переменные окружения:

```
BOT_TOKEN=<токен_бота>
VK_TOKEN=<токен_vk>
BOT_OWNER_ID=<id_владельца>
```

5. Запустить бота:

```ps1
python main.py
```

**Конфигурация**
- Параметры логирования можно менять в `config/config.py` через функции загрузки настроек.
- Путь к базе по умолчанию: `data/data.db`.
- Частота проверки парсером настроена в `main.py` (задача запускается с интервалом 60 секунд).

**Доступные команды (основные)**
- `/start` — регистрация и приветствие.
- `/help` — краткая помощь.
- `/start_monitoring` — подписаться на рассылку вакансий.
- `/stop_monitoring` — отписаться от рассылки.

Доп. команды для администратора/владельца: `add_groups`, `del_groups`, `add_admin`, `del_admin` (см. `tg_bot/handlers/`).

**Логирование**
- Логи пишутся в папку `logs/`. Основной лог и лог фильтра находятся в конфигурации логов.

**Примечания по разработке**
- Парсинг VK реализован в `parsing/vk_parser.py` (использует `aiohttp`).
- Фильтрация вакансий производится в `parsing/filters.py`.
- Простая база данных на SQLite, нет внешней миграции.
